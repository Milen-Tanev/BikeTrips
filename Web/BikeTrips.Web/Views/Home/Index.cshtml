@model IEnumerable<BikeTrips.Web.ViewModels.TripModels.TripViewModel>

@{
    ViewBag.Title = "Coming trips";
}

<div class="jumbotron">
    <h1 class="page-title">Bike Trips</h1>
</div>

@using (Html.BeginForm())
{
    <p>
        @Html.TextBox("SearchString")
        <input type="submit" value="Search" class="btn-info" />
    </p>
}

<div class="row">
    @if (Model.Count() > 0)
    {
        <table id="trips-table">
            <tr class="trips-row">
                <th class="trip-list text-large">Trip name</th>
                <th class="trip-list text-large">Location</th>
                <th class="trip-list text-large">Starting in</th>
                <th class="trip-list text-large">Created by</th>
            </tr>

            @foreach(var trip in Model)
            {
                <tr class="trips-row">
                    <td class="trip-list">@Html.ActionLink(@trip.TripName, "ById", "Trip", new { urlId = trip.UrlId}, new { @class = "trip-title"})</td>
                    <td class="trip-list">@trip.StartingPoint</td>
                    <td class="trip-list">@trip.StartingTime</td>
                    <td class="trip-list">@trip.User</td>
                </tr>
            }
        </table>
    }
    else
    {
        <div id="no-events-text" class="col-md-4">
            <p>No coming events</p>
        </div>
    }

</div>
@if (User.Identity.IsAuthenticated)
{
    <div class="row">
        <div class="col-md-4">
            @Html.ActionLink("Create trip", "../Trip/Create", null, new { @class = "btn btn-info", @role = "button" })
        </div>
    </div>
}
